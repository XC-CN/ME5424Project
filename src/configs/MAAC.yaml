exp_name: MAAC
result_dir: results/MAAC
# 第一个cuda device的编号 -1代表cpu
first_device: 0
# cuda device的数量 使用cpu时无效
gpus: 1
seed: 42
cooperative: 0.3  # Protector和Target之间的协作系数
environment:
  n_uav: 1
  m_targets: 10
  n_protectors: 1
  x_max: 2000 # 地图x轴最大范围
  y_max: 2000 # 地图y轴最大范围
  na: 12  # 离散化动作空间维度
uav:
  dt: 1 # 时间步长
  v_max: 20 # 最大速度
  h_max: 6  # 表示 pi / 6
  dc: 500 # 重复追踪半径惩罚
  dp: 200
  alpha: 0.6
  beta: 0.2
  gamma: 0.2
  omega: 0.5
  control_method: "rule_based" # "rl" or "rule_based"
  rule_based_params:
    boundary_avoid_threshold: 15.0
    boundary_avoid_strength: 0.8
    protector_avoid_threshold: 20.0
    protector_avoid_strength: 1.0
protector:
  n_protectors: 1
  v_max: 5
  h_max: 6         # 与 UAV 一致的角速度档位
  dt: 0.1
  safe_radius: 200.0  # UAV 进入这个范围会被惩罚
  knockback: 200.0     # 弹开强度（最大推离距离）
  arm_thickness: 100.0 # 手臂碰撞厚度（判定范围）
  heading_lock_duration: 5  # 碰撞后锁定朝向的基础步数
  na: 12
  obs_radius: 400.0
  alpha: 0.5
  beta: 1.0
  gamma: 10.0
  approach_bonus_weight: 0.5
  retreat_bonus_weight: 0.3
  movement_penalty_weight: 0.2
  movement_min_speed: 0.5
  stagnate_steps: 5
  circular_motion_penalty: 0.5  # 转圈惩罚权重，惩罚原地转圈行为
  position_change_threshold: 50.0  # 位置变化阈值，用于检测停滞和转圈（单位：像素/距离单位）
  epsilon_start: 0.3  # 训练初期的探索率
  epsilon_end: 0.0  # 训练后期的探索率
  epsilon_decay: 0.995  # 每episode的衰减率（0.995表示每episode衰减0.5%）
target:
  v_max: 5
  h_max: 6  # 表示 pi / 6
  capture_radius: 120.0  # 目标捕获半径
  na: 12
  obs_radius: 400.0
  alpha: 0.3
  beta: 0.5
  gamma: 100.0
  approach_bonus_weight: 0.3
  escape_bonus_weight: 0.4
  movement_penalty_weight: 0.2
  movement_min_speed: 0.3
  stagnate_steps: 5
  circular_motion_penalty: 0.5  # 转圈惩罚权重，惩罚原地转圈行为
  position_change_threshold: 50.0  # 位置变化阈值，用于检测停滞和转圈（单位：像素/距离单位）
  epsilon_start: 0.3  # 训练初期的探索率
  epsilon_end: 0.0  # 训练后期的探索率
  epsilon_decay: 0.995  # 每episode的衰减率（0.995表示每episode衰减0.5%）
actor_critic:
  buffer_size: 1000000
  sample_size: 0  # 表示每次采样的大小为每个epoch的step数（UAV使用规则控制，此配置不使用）
  actor_lr: 1e-4
  critic_lr: 1e-4
  hidden_dim: 256
  gamma: 0.95
protector_actor_critic:
  buffer_size: 500000
  sample_size: 2048  # 固定batch size，提高GPU利用率
  actor_lr: 1e-4
  critic_lr: 1e-4
  hidden_dim: 512  # 增大模型容量，提高学习能力
  gamma: 0.95
target_actor_critic:
  buffer_size: 500000
  sample_size: 2048  # 固定batch size，提高GPU利用率
  actor_lr: 1e-4
  critic_lr: 1e-4
  hidden_dim: 512  # 增大模型容量，提高学习能力
  gamma: 0.95
# MAAC不需要PMI网络（UAV使用规则控制，不需要学习通信）

evaluate:
  enable_live: true
  render_pause: 0.05
  render_trail: 60
  save_outputs: false
  save_animation: true
